<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greenkeyper Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-b from-gray-100 to-gray-200 min-h-screen flex items-center justify-center p-4">
    
    <!-- Login Screen -->
    <div id="loginScreen" class="w-full max-w-md mx-auto">
        <!-- Truck Image Header -->
        <div class="w-full h-48 mb-0 rounded-t-3xl overflow-hidden">
            <img src="/Assets/Images/iStock-1177127789 3 (1).png" class="w-full h-36 object-cover" />
        </div>

        <!-- Login Card -->
        <div class="bg-white rounded-b-3xl shadow-2xl p-8">
            <!-- Logo -->
            <div class="text-center mb-6">
                <h1 class="text-4xl font-bold text-teal-600">LOGO</h1>
            </div>

            <!-- Welcome Text -->
            <h2 class="text-center text-gray-800 font-semibold text-xl mb-8">Welcome to Greenkeyper!</h2>

            <!-- Email Input -->
            <div class="mb-4">
                <label class="block text-gray-600 text-sm font-medium mb-2">Email</label>
                <div class="relative">
                    <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-teal-600">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                        </svg>
                    </span>
                    <input 
                        type="email" 
                        id="email"
                        placeholder="Enter your email" 
                        onblur="validateEmail()"
                        class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                </div>
                <p id="emailError" class="text-red-500 text-sm mt-2 hidden"></p>
                <div id="emailSuggestions" class="mt-2 hidden">
                    <p class="text-sm text-gray-600 mb-1">Did you mean:</p>
                    <div id="suggestionList" class="space-y-1"></div>
                </div>
            </div>

            <!-- Password Input -->
            <div class="mb-2">
                <label class="block text-gray-600 text-sm font-medium mb-2">Password</label>
                <div class="relative">
                    <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-teal-600">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
                        </svg>
                    </span>
                    <input 
                        type="password" 
                        id="password"
                        placeholder="Enter your password" 
                        oninput="checkPassword()"
                        class="w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                    <button type="button" onclick="togglePassword()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                        <svg id="eyeIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                        </svg>
                    </button>
                </div>
                
                <!-- Password Requirements -->
                <div id="passwordRequirements" class="mt-3 p-3 bg-gray-50 rounded-lg hidden">
                    <p class="text-sm font-semibold text-gray-700 mb-2">Password must contain:</p>
                    <ul class="space-y-1">
                        <li id="length" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>At least 8 characters
                        </li>
                        <li id="uppercase" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>One uppercase letter (A-Z)
                        </li>
                        <li id="lowercase" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>One lowercase letter (a-z)
                        </li>
                        <li id="number" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>One number (0-9)
                        </li>
                        <li id="symbol" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>One symbol (!@#$%^&*)
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Forgot Password -->
            <div class="text-right mb-6">
                <a href="#" onclick="showScreen('forgotPassword'); return false;" class="text-teal-600 text-sm hover:underline">Forgot Password?</a>
            </div>

            <!-- Login Button -->
            <button 
                onclick="handleLogin()"
                class="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 rounded-lg transition">
                Login
            </button>

            <!-- Sign Up Link -->
            <p class="text-center text-gray-600 text-sm mt-6">
                Don't have an account? 
                <a href="#" class="text-teal-600 font-semibold hover:underline">Sign up</a>
            </p>
        </div>
    </div>

    <!-- Forgot Password Screen -->
    <div id="forgotPasswordScreen" class="w-full max-w-md mx-auto hidden">
        <!-- Truck Image Header -->
        <div class="w-full h-48 mb-0 rounded-t-3xl overflow-hidden">
           <img src="/Assets/Images/iStock-1177127789 3 (1).png" class="w-full h-36 object-cover" />
        </div>

        <!-- Forgot Password Card -->
        <div class="bg-white rounded-b-3xl shadow-2xl p-8">
            <!-- Back Button -->
            <button onclick="showScreen('login')" class="flex items-center text-teal-600 hover:text-teal-700 mb-4">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                Back to Login
            </button>

            <!-- Logo -->
            <div class="text-center mb-6">
                <h1 class="text-4xl font-bold text-teal-600">LOGO</h1>
            </div>

            <!-- Title -->
            <h2 class="text-center text-gray-800 font-semibold text-xl mb-3">Forgot Password?</h2>
            <p class="text-center text-gray-600 text-sm mb-8">Enter your email to receive a verification code</p>

            <!-- Email Input -->
            <div class="mb-6">
                <label class="block text-gray-600 text-sm font-medium mb-2">Email</label>
                <div class="relative">
                    <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-teal-600">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                        </svg>
                    </span>
                    <input 
                        type="email" 
                        id="forgotEmail"
                        placeholder="Enter your email" 
                        class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                </div>
            </div>

            <!-- Send Code Button -->
            <button 
                onclick="saveEmail(); showScreen('otp');"
                class="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 rounded-lg transition">
                Send Verification Code
            </button>
        </div>
    </div>

    <!-- OTP Verification Screen -->
    <div id="otpScreen" class="w-full max-w-md mx-auto hidden">
        <!-- Truck Image Header -->
        <div class="w-full h-48 mb-0 rounded-t-3xl overflow-hidden">
            <img src="https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=1200&q=80" 
                 alt="Trucks" 
                 class="w-full h-full object-cover">
        </div>

        <!-- OTP Card -->
        <div class="bg-white rounded-b-3xl shadow-2xl p-8">
            <!-- Back Button -->
            <button onclick="showScreen('forgotPassword')" class="flex items-center text-teal-600 hover:text-teal-700 mb-4">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                Back
            </button>

            <!-- Logo -->
            <div class="text-center mb-6">
                <h1 class="text-4xl font-bold text-teal-600">LOGO</h1>
            </div>

            <!-- Title -->
            <h2 class="text-center text-gray-800 font-semibold text-xl mb-3">Enter Verification Code</h2>
            <p class="text-center text-gray-600 text-sm mb-2">We've sent a 6-digit code to</p>
            <p class="text-center text-teal-600 font-semibold text-sm mb-8" id="sentToEmail"></p>

            <!-- OTP Input Boxes -->
            <div class="flex justify-center gap-3 mb-6">
                <input type="text" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                <input type="text" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                <input type="text" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                <input type="text" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                <input type="text" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                <input type="text" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
            </div>

            <!-- Resend -->
            <div class="text-center mb-6">
                <p class="text-gray-600 text-sm mb-2">Didn't receive the code?</p>
                <button onclick="alert('Code resent!')" class="text-teal-600 font-semibold hover:underline text-sm">
                    Resend Code
                </button>
            </div>

            <!-- Verify Button -->
            <button 
                onclick="showScreen('resetPassword')"
                class="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 rounded-lg transition">
                Verify Code
            </button>
        </div>
    </div>

    <!-- Reset Password Screen -->
    <div id="resetPasswordScreen" class="w-full max-w-md mx-auto hidden">
        <!-- Truck Image Header -->
        <div class="w-full h-48 mb-0 rounded-t-3xl overflow-hidden">
            <img src="https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=1200&q=80" 
                 alt="Trucks" 
                 class="w-full h-full object-cover">
        </div>

        <!-- Reset Password Card -->
        <div class="bg-white rounded-b-3xl shadow-2xl p-8">
            <!-- Logo -->
            <div class="text-center mb-6">
                <h1 class="text-4xl font-bold text-teal-600">LOGO</h1>
            </div>

            <!-- Title -->
            <h2 class="text-center text-gray-800 font-semibold text-xl mb-3">Create New Password</h2>
            <p class="text-center text-gray-600 text-sm mb-8">Your new password must be different from previous passwords</p>

            <!-- New Password Input -->
            <div class="mb-4">
                <label class="block text-gray-600 text-sm font-medium mb-2">New Password</label>
                <div class="relative">
                    <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-teal-600">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
                        </svg>
                    </span>
                    <input 
                        type="password" 
                        id="newPassword"
                        placeholder="Enter new password" 
                        oninput="checkNewPassword()"
                        class="w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                    <button type="button" onclick="toggleNewPassword()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                        <svg id="newEyeIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                        </svg>
                    </button>
                </div>
                
                <!-- Password Requirements for Reset -->
                <div id="newPasswordRequirements" class="mt-3 p-3 bg-gray-50 rounded-lg hidden">
                    <p class="text-sm font-semibold text-gray-700 mb-2">Password must contain:</p>
                    <ul class="space-y-1">
                        <li id="newLength" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>At least 8 characters
                        </li>
                        <li id="newUppercase" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>One uppercase letter (A-Z)
                        </li>
                        <li id="newLowercase" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>One lowercase letter (a-z)
                        </li>
                        <li id="newNumber" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>One number (0-9)
                        </li>
                        <li id="newSymbol" class="text-sm text-red-500 flex items-center">
                            <span class="mr-2">✗</span>One symbol (!@#$%^&*)
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Confirm Password Input -->
            <div class="mb-6">
                <label class="block text-gray-600 text-sm font-medium mb-2">Confirm Password</label>
                <div class="relative">
                    <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-teal-600">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
                        </svg>
                    </span>
                    <input 
                        type="password" 
                        id="confirmPassword"
                        placeholder="Confirm new password" 
                        class="w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
                    <button type="button" onclick="toggleConfirmPassword()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600">
                        <svg id="confirmEyeIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Reset Password Button -->
            <button 
                onclick="handleResetPassword()"
                class="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 rounded-lg transition">
                Reset Password
            </button>
        </div>
    </div>

    <script>
        const validDomains = ['gmail.com', 'yahoo.com', 'outlook.com', 'hotmail.com', 'icloud.com', 'aol.com'];

        // Screen navigation
        function showScreen(screen) {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('forgotPasswordScreen').classList.add('hidden');
            document.getElementById('otpScreen').classList.add('hidden');
            document.getElementById('resetPasswordScreen').classList.add('hidden');
            
            if (screen === 'login') {
                document.getElementById('loginScreen').classList.remove('hidden');
            } else if (screen === 'forgotPassword') {
                document.getElementById('forgotPasswordScreen').classList.remove('hidden');
            } else if (screen === 'otp') {
                document.getElementById('otpScreen').classList.remove('hidden');
            } else if (screen === 'resetPassword') {
                document.getElementById('resetPasswordScreen').classList.remove('hidden');
            }
        }

        // Email validation
        function validateEmail() {
            const email = document.getElementById('email').value.trim();
            const errorDiv = document.getElementById('emailError');
            const suggestionsDiv = document.getElementById('emailSuggestions');
            const suggestionList = document.getElementById('suggestionList');

            errorDiv.classList.add('hidden');
            suggestionsDiv.classList.add('hidden');
            suggestionList.innerHTML = '';

            if (!email) {
                errorDiv.textContent = '⚠ Email is missing. Please enter your email address.';
                errorDiv.classList.remove('hidden');
                return false;
            }

            if (!email.includes('@')) {
                errorDiv.textContent = '⚠ Invalid email format. Missing @ symbol.';
                errorDiv.classList.remove('hidden');
                return false;
            }

            const parts = email.split('@');
            if (parts.length !== 2 || !parts[0] || !parts[1]) {
                errorDiv.textContent = '⚠ Invalid email format. Please enter a valid email.';
                errorDiv.classList.remove('hidden');
                return false;
            }

            const domain = parts[1].toLowerCase();

            if (!domain) {
                errorDiv.textContent = '⚠ Domain name is missing. Please add a domain (e.g., @gmail.com).';
                errorDiv.classList.remove('hidden');
                return false;
            }

            if (!validDomains.includes(domain)) {
                errorDiv.textContent = '⚠ Invalid domain. Please use a valid email provider.';
                errorDiv.classList.remove('hidden');

                // Show suggestions
                const suggestions = validDomains.filter(d => {
                    return d.includes(domain.substring(0, 3)) || domain.includes(d.substring(0, 3));
                });

                if (suggestions.length > 0) {
                    suggestionsDiv.classList.remove('hidden');
                    suggestions.forEach(suggestion => {
                        const btn = document.createElement('button');
                        btn.className = 'text-teal-600 text-sm hover:underline block';
                        btn.textContent = parts[0] + '@' + suggestion;
                        btn.onclick = function() {
                            document.getElementById('email').value = this.textContent;
                            suggestionsDiv.classList.add('hidden');
                            errorDiv.classList.add('hidden');
                        };
                        suggestionList.appendChild(btn);
                    });
                } else {
                    // Show all valid domains
                    suggestionsDiv.classList.remove('hidden');
                    validDomains.forEach(suggestion => {
                        const btn = document.createElement('button');
                        btn.className = 'text-teal-600 text-sm hover:underline block';
                        btn.textContent = parts[0] + '@' + suggestion;
                        btn.onclick = function() {
                            document.getElementById('email').value = this.textContent;
                            suggestionsDiv.classList.add('hidden');
                            errorDiv.classList.add('hidden');
                        };
                        suggestionList.appendChild(btn);
                    });
                }
                return false;
            }

            return true;
        }

        // Password validation
        function checkPassword() {
            const password = document.getElementById('password').value;
            const requirementsDiv = document.getElementById('passwordRequirements');

            if (password.length > 0) {
                requirementsDiv.classList.remove('hidden');

                // Check each requirement
                updateRequirement('length', password.length >= 8);
                updateRequirement('uppercase', /[A-Z]/.test(password));
                updateRequirement('lowercase', /[a-z]/.test(password));
                updateRequirement('number', /[0-9]/.test(password));
                updateRequirement('symbol', /[!@#$%^&*]/.test(password));
            } else {
                requirementsDiv.classList.add('hidden');
            }
        }

        function checkNewPassword() {
            const password = document.getElementById('newPassword').value;
            const requirementsDiv = document.getElementById('newPasswordRequirements');

            if (password.length > 0) {
                requirementsDiv.classList.remove('hidden');

                updateRequirement('newLength', password.length >= 8);
                updateRequirement('newUppercase', /[A-Z]/.test(password));
                updateRequirement('newLowercase', /[a-z]/.test(password));
                updateRequirement('newNumber', /[0-9]/.test(password));
                updateRequirement('newSymbol', /[!@#$%^&*]/.test(password));
            } else {
                requirementsDiv.classList.add('hidden');
            }
        }

        function updateRequirement(id, isValid) {
            const element = document.getElementById(id);
            if (isValid) {
                element.className = 'text-sm text-green-600 flex items-center';
                element.querySelector('span').textContent = '✓';
            } else {
                element.className = 'text-sm text-red-500 flex items-center';
                element.querySelector('span').textContent = '✗';
            }
        }

        function isPasswordValid(password) {
            return password.length >= 8 &&
                   /[A-Z]/.test(password) &&
                   /[a-z]/.test(password) &&
                   /[0-9]/.test(password) &&
                   /[!@#$%^&*]/.test(password);
        }

        // Password toggle functions
        function togglePassword() {
            const input = document.getElementById('password');
            const icon = document.getElementById('eyeIcon');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>';
            } else {
                input.type = 'password';
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>';
            }
        }

        function toggleNewPassword() {
            const input = document.getElementById('newPassword');
            const icon = document.getElementById('newEyeIcon');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>';
            } else {
                input.type = 'password';
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>';
            }
        }

        function toggleConfirmPassword() {
            const input = document.getElementById('confirmPassword');
            const icon = document.getElementById('confirmEyeIcon');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>';
            } else {
                input.type = 'password';
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>';
            }
        }

        // Login handler
        function handleLogin() {
            const emailValid = validateEmail();
            const password = document.getElementById('password').value;

            if (!emailValid) {
                return;
            }

            if (!password) {
                alert('⚠ Password is required!');
                return;
            }

            if (!isPasswordValid(password)) {
                alert('⚠ Password does not meet all requirements!');
                return;
            }

            alert('✓ Login Successful!');
        }

        // Reset password handler
        function handleResetPassword() {
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (!newPassword) {
                alert('⚠ Please enter a new password!');
                return;
            }

            if (!isPasswordValid(newPassword)) {
                alert('⚠ Password does not meet all requirements!');
                return;
            }

            if (newPassword !== confirmPassword) {
                alert('⚠ Passwords do not match!');
                return;
            }

            alert('✓ Password reset successful!');
            showScreen('login');
        }

        // Save email for OTP screen
        function saveEmail() {
            const email = document.getElementById('forgotEmail').value;
            document.getElementById('sentToEmail').textContent = email;
        }
    </script>

</body>
</html>
